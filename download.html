<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>byteOS ‚Äì Downloads</title>

<style>
/* --- unchanged styles trimmed for brevity --- */

.build-info{
  margin-top:10px;
  padding:10px 14px;
  background:#0b0f1a;
  border:1px solid rgba(77,163,255,0.25);
  border-radius:8px;
  font-family:monospace;
  font-size:.8rem;
  color:#9aa3b2;
}

/* keep your existing CSS below */
</style>
</head>

<body>

<script>
const CURRENT_STAGE = "alpha";
</script>

<script>
const order = ["pre-alpha","alpha","beta","rc","pre-rtm","rtm","gc"];
document.addEventListener("DOMContentLoaded",()=>{
  document.querySelectorAll("[data-stage]").forEach(el=>{
    const i = order.indexOf(el.dataset.stage);
    const c = order.indexOf(CURRENT_STAGE);
    el.classList.remove("past","current","future");
    if(i < c) el.classList.add("past","disabled");
    else if(i === c) el.classList.add("current");
    else el.classList.add("future","disabled");
  });
});
</script>

<nav>
  <a href="index.html">Home</a>
  <a href="features.html">Features</a>
  <a href="about.html">About</a>
  <a href="download.html">Download</a>
</nav>

<section>
<h1>Download byteOS</h1>

<div class="warning">
<strong>‚ö† WARNING</strong><br>
byteOS is currently in <b>Alpha</b>. These builds are unstable.
</div>

<div class="alpha-banner">
  <div class="alpha-banner-inner">
    <span class="stage-badge canary">CANARY</span>
    <div class="alpha-text">
      <strong>byteOS is now Alpha</strong>
      <span class="sub">Pre-Alpha ‚Üí Alpha (v0.1.x)</span>
    </div>
    <div class="countdown" id="alphaCountdown">
      Alpha released ‚Ä¢ v0.1.0 üß™
    </div>
  </div>
</div>

<h2>Available Builds</h2>
<div class="builds">

<!-- PRE-ALPHA (ARCHIVED) -->
<div class="build canary" data-stage="pre-alpha">
  <div>
    <h3>Pre-Alpha 0.0.9</h3>
    <small>Channel: <span class="channel canary">Canary</span></small>
    <div class="meta">Status: Archived</div>
    <div class="meta">EOL: January 2026</div>
  </div>
  <button disabled>Archived</button>
</div>

<!-- ALPHA (CURRENT) -->
<div class="build canary" data-stage="alpha">
  <div>
    <h3>Alpha Build 0.1.0</h3>
    <small>Channel: <span class="channel canary">Canary</span></small>
    <div class="meta">Target: BBC micro:bit v2</div>
    <div class="meta">Filename: byteOS-microbit-alpha-0.1.0.hex</div>

    <div id="alphaBuildInfo" class="build-info">
      üìä Loading build info‚Ä¶
    </div>

    <div class="meta">
      üìù <a href="changelog/prealpha-0.0.6.html" style="color:#4da3ff">Changelog</a>
    </div>
  </div>

  <button onclick="openConfirm()">Download .hex</button>
</div>

<!-- FUTURE STAGES (DISABLED) -->
<div class="build dev" data-stage="beta"><div><h3>Beta</h3></div><button disabled>Unavailable</button></div>
<div class="build dev" data-stage="rc"><div><h3>RC</h3></div><button disabled>Unavailable</button></div>
<div class="build dev" data-stage="pre-rtm"><div><h3>Pre-RTM</h3></div><button disabled>Unavailable</button></div>
<div class="build stable" data-stage="rtm"><div><h3>RTM</h3></div><button disabled>Unavailable</button></div>
<div class="build stable" data-stage="gc"><div><h3>GC</h3></div><button disabled>Unavailable</button></div>

</div>
</section>

<!-- Download modal -->
<div id="confirmModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;">
  <div style="background:#12182b;padding:25px;border-radius:14px;">
    <h3>Download Alpha Firmware</h3>
    <p class="meta">For BBC micro:bit v2 only</p>
    <div style="display:flex;gap:12px;justify-content:flex-end">
      <button onclick="closeConfirm()" style="background:#555;color:#fff">Cancel</button>
      <a href="byteOS-microbit-alpha-0.1.0.hex" download>
        <button>Proceed</button>
      </a>
    </div>
  </div>
</div>

<script>
function openConfirm(){confirmModal.style.display="flex"}
function closeConfirm(){confirmModal.style.display="none"}
</script>

<script>
fetch("byteOS-microbit-alpha-0.1.0.hex")
.then(r=>r.arrayBuffer().then(b=>({b,size:r.headers.get("content-length")})))
.then(async d=>{
  const h=await crypto.subtle.digest("SHA-256",d.b);
  const hex=[...new Uint8Array(h)].map(x=>x.toString(16).padStart(2,"0")).join("");
  alphaBuildInfo.innerHTML=`Size: ${(d.size/1024).toFixed(1)} KB<br>SHA-256: ${hex}`;
})
.catch(()=>alphaBuildInfo.textContent="Build info unavailable");
</script>

<footer>¬© 2026‚Äì2034 byteOS Project</footer>
</body>
</html>
