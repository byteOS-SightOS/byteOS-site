<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>byteOS – Downloads</title>

<style>
/* ===== ORIGINAL CSS (UNCHANGED) ===== */
.changelog-list{margin-top:15px;font-size:.95rem}
.changelog-list a{margin-right:15px;color:#4da3ff;text-decoration:none}
.changelog-list .disabled{color:#9aa3b2;opacity:.5;pointer-events:none}
.channel{display:inline-block;padding:4px 12px;border-radius:999px;font-size:.85rem;font-weight:600;margin-left:10px}
.channel.canary{background:#ff9800;color:#000}
.channel.dev{background:#4da3ff;color:#000}
.channel.stable{background:#4caf50;color:#000}
body{margin:0;font-family:"Segoe UI",Tahoma,sans-serif;background:linear-gradient(135deg,#0b0f1a,#06080f);color:#e6e9f0}
nav{display:flex;justify-content:center;gap:25px;padding:15px;background:rgba(18,24,43,.85);position:sticky;top:0}
nav a{color:#e6e9f0;text-decoration:none}
nav a:hover{color:#4da3ff}
section{max-width:1000px;margin:auto;padding:60px 20px}
h1,h2{text-align:center}
p{color:#9aa3b2}
.warning{background:#2b1212;border-left:4px solid #ff4d4d;padding:20px;border-radius:10px;margin:30px 0}
.legend{display:flex;justify-content:center;gap:20px;margin-top:15px;font-size:.9rem;color:#9aa3b2}
.dot{width:10px;height:10px;border-radius:50%;display:inline-block}
.dot.canary{background:#ff4da6}
.dot.dev{background:#ff9f1a}
.dot.stable{background:#2ecc71}
.builds{display:grid;gap:20px;margin-top:40px}
.build{background:#12182b;padding:25px;border-radius:14px;box-shadow:0 10px 25px rgba(0,0,0,.4);display:grid;grid-template-columns:1fr auto;gap:20px;align-items:center;border-left:6px solid transparent}
.build.disabled{opacity:.45}
.build.canary{border-left-color:#ff4da6}
.build.dev{border-left-color:#ff9f1a}
.build.stable{border-left-color:#2ecc71}
.build.current{outline:2px solid #4da3ff;box-shadow:0 0 25px rgba(77,163,255,.45)}
.build h3{margin:0 0 6px 0}
.build small{color:#9aa3b2}
.meta{margin-top:6px;font-size:.85rem;color:#9aa3b2}
button{background:#4da3ff;color:#000;border:none;padding:12px 28px;border-radius:25px;cursor:pointer;font-weight:600}
button:disabled{background:#555;cursor:not-allowed}
footer{text-align:center;padding:30px;color:#9aa3b2}

/* ===== Password attempt UI ===== */
.attempt-bar{
  width:100%;
  height:6px;
  background:rgba(255,255,255,.15);
  border-radius:999px;
  overflow:hidden;
  margin-top:10px;
}
.attempt-fill{
  height:100%;
  width:100%;
  background:linear-gradient(90deg,#4da3ff,#ff4d4d);
  transition:width .3s ease;
}
.attempt-text{
  margin-top:6px;
  font-size:.8rem;
  color:#9aa3b2;
}
</style>
</head>

<body>

<nav>
  <a href="index.html">Home</a>
  <a href="features.html">Features</a>
  <a href="about.html">About</a>
  <a href="download.html">Download</a>
</nav>

<section>
<h1>Download byteOS</h1>
<p style="text-align:center">Current development builds for BBC micro:bit v2</p>

<div class="warning">
<strong>⚠ WARNING</strong><br>
byteOS is currently in <b>Alpha (Canary)</b>. Unstable builds.
</div>

<div class="builds">

<!-- PRE-ALPHA -->
<div class="build canary disabled" data-stage="pre-alpha">
  <div>
    <h3>Pre-Alpha 0.0.9</h3>
    <small>Canary · Archived</small>
  </div>
  <button disabled>Archived</button>
</div>

<!-- CURRENT ALPHA -->
<div class="build canary current" data-stage="alpha">
  <div>
    <h3>Alpha 0.1.1 <small>“Firefly”</small></h3>
    <small>Canary · 0.1.x</small>
    <div class="meta">Released Jan 2026 (GMT+7)</div>
    <div class="meta">Target: BBC micro:bit v2</div>
  </div>
  <button onclick="openPasswordModal()">Download .hex</button>
</div>

<!-- FUTURE STAGES -->
<div class="build dev disabled"><div><h3>Beta</h3></div><button disabled>Unavailable</button></div>
<div class="build dev disabled"><div><h3>RC</h3></div><button disabled>Unavailable</button></div>
<div class="build dev disabled"><div><h3>Pre-RTM</h3></div><button disabled>Unavailable</button></div>
<div class="build stable disabled"><div><h3>RTM</h3></div><button disabled>Unavailable</button></div>
<div class="build stable disabled"><div><h3>GC</h3></div><button disabled>Unavailable</button></div>

</div>
</section>

<!-- PASSWORD MODAL -->
<div id="passwordModal" style="
display:none;position:fixed;inset:0;
background:rgba(0,0,0,.7);
z-index:999;
align-items:center;
justify-content:center">
  <div style="
  background:#12182b;
  padding:28px;
  border-radius:16px;
  max-width:420px;
  width:100%;">
    <h3>Restricted Download</h3>
    <p style="color:#9aa3b2">Enter the download password.</p>

    <input id="passwordInput" type="password"
      style="width:100%;padding:12px;border-radius:10px;border:none;background:#0b0f1a;color:#fff">

    <div class="attempt-bar">
      <div id="attemptFill" class="attempt-fill"></div>
    </div>
    <div id="attemptText" class="attempt-text">3 attempts remaining</div>

    <div id="passwordError" style="color:#ff4d4d;display:none;margin-top:8px">
      Incorrect password
    </div>

    <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:20px">
      <button onclick="closePasswordModal()" style="background:#555;color:#fff">Cancel</button>
      <button onclick="checkPassword()">Unlock</button>
    </div>
  </div>
</div>

<footer>© 2026–2034 byteOS Project</footer>

<script>
/* ===== SECURE PASSWORD GATE ===== */

let attemptsLeft = 3;

/* SHA-256("firefly@360") */
const PASSWORD_HASH =
"8bfa52b7a5b5b68db9a8c5b9e7a7b53cb0d08c5d8df7c56e8e64a96b86c09f8e";

async function sha256(text){
  const data=new TextEncoder().encode(text);
  const hash=await crypto.subtle.digest("SHA-256",data);
  return Array.from(new Uint8Array(hash))
    .map(b=>b.toString(16).padStart(2,"0")).join("");
}

function openPasswordModal(){
  document.getElementById("passwordModal").style.display="flex";
}

function closePasswordModal(){
  document.getElementById("passwordModal").style.display="none";
}

async function checkPassword(){
  const input=document.getElementById("passwordInput").value;
  const error=document.getElementById("passwordError");
  const fill=document.getElementById("attemptFill");
  const text=document.getElementById("attemptText");

  if(attemptsLeft<=0)return;

  const hash=await sha256(input);
  if(hash===PASSWORD_HASH){
    window.location.href="byteOS-microbit-alpha-0.1.1.hex";
    closePasswordModal();
    return;
  }

  attemptsLeft--;
  fill.style.width=(attemptsLeft/3*100)+"%";
  text.textContent=attemptsLeft+" attempts remaining";
  error.style.display="block";

  if(attemptsLeft===0){
    text.textContent="Download locked";
  }
}
</script>

</body>
</html>
